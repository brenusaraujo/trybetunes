{"ast":null,"code":"var _jsxFileName = \"/Users/brenoaraujo/projects-to-github/TrybeTunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Header from '../components/Header';\nimport AlbumCard from '../components/AlbumCard';\nimport '../css/Search.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor() {\n    super();\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onButtonClick = this.onButtonClick.bind(this);\n    this.state = {\n      search: '',\n      buttonIsDisabled: true,\n      albums: [],\n      lastSearch: '',\n      loading: false\n    };\n  }\n\n  onInputChange(_ref) {\n    let {\n      target: {\n        value\n      }\n    } = _ref;\n    const isValid = value.trim().length > 1;\n    this.setState({\n      search: value,\n      buttonIsDisabled: !isValid\n    });\n  }\n\n  onButtonClick(event) {\n    event.preventDefault();\n    const {\n      search\n    } = this.state;\n    this.setState(() => ({\n      loading: true,\n      lastSearch: search\n    }), () => searchAlbumsAPI(search).then(albums => this.setState({\n      albums,\n      search: '',\n      buttonIsDisabled: true,\n      loading: false\n    })));\n  }\n\n  render() {\n    const {\n      search,\n      buttonIsDisabled,\n      albums,\n      lastSearch,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        search: \"active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"search-form-title\",\n          children: \"Buscar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"search\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"search-artist-input\",\n              id: \"search\",\n              onChange: this.onInputChange,\n              placeholder: \"Digite o nome do \\xE1lbum ou do artista...\",\n              type: \"text\",\n              value: search\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            \"data-testid\": \"search-artist-button\",\n            disabled: buttonIsDisabled,\n            onClick: this.onButtonClick,\n            type: \"submit\",\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [lastSearch !== '' && albums.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-alert\",\n          children: \"Nenhum \\xE1lbum foi encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 16\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-alert\",\n          children: \"Carregando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 24\n        }, this), !loading && albums.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-success\",\n          children: [\"Resultado de \\xE1lbuns de:\", ' ', lastSearch]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"albums-container\",\n          children: albums.map(album => /*#__PURE__*/_jsxDEV(AlbumCard, {\n            album: album\n          }, album.collectionId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/brenoaraujo/projects-to-github/TrybeTunes/src/pages/Search.jsx"],"names":["React","Component","searchAlbumsAPI","Header","AlbumCard","Search","constructor","onInputChange","bind","onButtonClick","state","search","buttonIsDisabled","albums","lastSearch","loading","target","value","isValid","trim","length","setState","event","preventDefault","then","render","map","album","collectionId"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nimport Header from '../components/Header';\nimport AlbumCard from '../components/AlbumCard';\n\nimport '../css/Search.css';\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onButtonClick = this.onButtonClick.bind(this);\n\n    this.state = {\n      search: '',\n      buttonIsDisabled: true,\n      albums: [],\n      lastSearch: '',\n      loading: false,\n    };\n  }\n\n  onInputChange({ target: { value } }) {\n    const isValid = value.trim().length > 1;\n    this.setState({ search: value, buttonIsDisabled: !isValid });\n  }\n\n  onButtonClick(event) {\n    event.preventDefault();\n\n    const { search } = this.state;\n\n    this.setState(\n      () => ({ loading: true, lastSearch: search }),\n      () => searchAlbumsAPI(search)\n        .then((albums) => this.setState({\n          albums,\n          search: '',\n          buttonIsDisabled: true,\n          loading: false,\n        })),\n    );\n  }\n\n  render() {\n    const {\n      search,\n      buttonIsDisabled,\n      albums,\n      lastSearch,\n      loading,\n    } = this.state;\n\n    return (\n      <div data-testid=\"page-search\" className=\"page\">\n        <Header search=\"active\" />\n\n        <form className=\"search-form\">\n          <h1 className=\"search-form-title\">Buscar</h1>\n\n          <div className=\"search-area\">\n            <label htmlFor=\"search\">\n              <input\n                data-testid=\"search-artist-input\"\n                id=\"search\"\n                onChange={ this.onInputChange }\n                placeholder=\"Digite o nome do álbum ou do artista...\"\n                type=\"text\"\n                value={ search }\n              />\n            </label>\n\n            <button\n              data-testid=\"search-artist-button\"\n              disabled={ buttonIsDisabled }\n              onClick={ this.onButtonClick }\n              type=\"submit\"\n            >\n              Pesquisar\n            </button>\n          </div>\n        </form>\n\n        <div>\n          { lastSearch !== ''\n            && albums.length === 0\n            && !loading\n            && <p className=\"search-alert\">Nenhum álbum foi encontrado</p> }\n\n          { loading && <p className=\"search-alert\">Carregando...</p> }\n\n          { !loading && albums.length > 0 && (\n            <p className=\"search-success\">\n              Resultado de álbuns de:\n              {' '}\n              {/* <span>{ lastSearch }</span> */}\n              {/* Não passa nos testes */}\n              { lastSearch }\n              {/* Passa nos testes */}\n            </p>\n          ) }\n\n          <ul className=\"albums-container\">\n            { albums.map((album) => (\n              <AlbumCard key={ album.collectionId } album={ album } />\n            )) }\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}